(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6209)}])},6947:function(e,a,n){"use strict";n.r(a);var o=n(5893),t=n(1822),s=n.n(t);n(7294),a.default=()=>(0,o.jsxs)("div",{className:"jsx-8e220493c9bb913b footer",children:[(0,o.jsxs)("p",{className:"jsx-8e220493c9bb913b",children:["Task Tracker \xa9 ",new Date().getFullYear(),(0,o.jsx)("br",{className:"jsx-8e220493c9bb913b"}),"Version ",(0,o.jsx)("strong",{className:"jsx-8e220493c9bb913b",children:"2.1.1"})]}),(0,o.jsx)(s(),{id:"8e220493c9bb913b",children:".footer.jsx-8e220493c9bb913b{left:0;bottom:0;width:100%;text-align:center}.footer.jsx-8e220493c9bb913b p.jsx-8e220493c9bb913b{cursor:pointer;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:0 auto}"})]})},6209:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSP:function(){return b}});var o=n(5893),t=n(1822),s=n.n(t),l=n(7294),c=n(9008),r=n.n(c),d=n(1664),i=n.n(d);n(4005);var m=n(6947),b=!0;a.default=e=>{let{users:a}=e,[n,t]=(0,l.useState)(!1),[c,d]=(0,l.useState)([]),[b,k]=(0,l.useState)(!1),[h,u]=(0,l.useState)(null),[f,x]=(0,l.useState)(""),[y,g]=(0,l.useState)(a),[p,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("darkMode");e&&t("true"===e)},[]),(0,l.useEffect)(()=>{let e=document.body;n?e.classList.add("dark-mode"):e.classList.remove("dark-mode"),localStorage.setItem("darkMode",n.toString())},[n]),(0,l.useEffect)(()=>{var e;let n=localStorage.getItem("lastResetStatsDate");new Date().toDateString();let o=new Date(null===(e=a[0])||void 0===e?void 0:e.lastUpdated).toDateString();if(!n||n!==o){let e=n?new Date(n).getDay():null,a=new Date().getDay(),t=n?D(new Date(n)):null,s=D(new Date),l=n?new Date(n).getMonth():null,c=new Date().getMonth();e!==a&&v(),t!==s&&N(),l!==c&&w(),localStorage.setItem("lastResetStatsDate",o)}},[a]);let v=async()=>{try{if(!(await fetch("/api/reset-daily-stats")).ok)throw Error("Failed to reset daily statistics")}catch(e){console.error("Error resetting daily statistics:",e)}},N=async()=>{try{if(!(await fetch("/api/reset-weekly-stats")).ok)throw Error("Failed to reset weekly statistics")}catch(e){console.error("Error resetting weekly statistics:",e)}},w=async()=>{try{if(!(await fetch("/api/reset-monthly-stats")).ok)throw Error("Failed to reset monthly statistics")}catch(e){console.error("Error resetting monthly statistics:",e)}},D=e=>{let a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));a.setUTCDate(a.getUTCDate()+4-(a.getUTCDay()||7));let n=new Date(Date.UTC(a.getUTCFullYear(),0,1));return Math.ceil(((a.getTime()-n.getTime())/864e5+1)/7)};a&&0!==a.length||console.log("No users found");let S=e=>{d(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},T=async()=>{if(h&&!b){k(!0);try{if(!(await fetch("/api/remove-task?taskId=".concat(h),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw Error("Failed to remove task");let e=[...y],a=e[0].tasks.filter(e=>e._id!==h);e[0].tasks=a,g(e)}catch(e){console.error("Error removing task:",e)}finally{k(!1),u(null),j(!1)}}},E=e=>{u(e._id),x(e.title),j(!0)};return(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:[(0,o.jsxs)(r(),{children:[(0,o.jsx)("title",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:"Tasks"}),(0,o.jsx)("link",{rel:"icon",href:"/task.ico",className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])})]}),(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" container",children:[(0,o.jsx)("h1",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" mt-2 mb-3",children:"TASK TRACKER"}),(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" row",children:[(0,o.jsxs)("main",{role:"main",className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" col-8",children:[(0,o.jsx)("h2",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" mt-2",children:"Task List"}),a?a.map(e=>(0,o.jsx)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" mb-4",children:(0,o.jsx)("ul",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" list-group",children:e.tasks.map((e,a)=>(0,o.jsxs)("li",{onClick:()=>S(e._id),className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" "+((e.reminder?"list-group-item task-item fw-bold text-uppercase":"list-group-item task-item")||""),children:[(0,o.jsx)("h4",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" "+((e.reminder?"fw-bold":"")||""),children:e.title}),c.includes(e._id)&&(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:[(0,o.jsxs)("p",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:["Description: ",e.description]}),(0,o.jsxs)("p",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:["Date & Time: ",new Date(e.date).toLocaleString("en-GB",{dateStyle:"short",timeStyle:"short"})]}),(0,o.jsx)("button",{onClick:()=>E(e),disabled:b,className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" btn btn-danger",children:b?"Removing Task...":"Remove"})]})]},a))})},e._id)):"No tasks found"]}),(0,o.jsxs)("nav",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" col navbar mt-2",children:[(0,o.jsxs)("ul",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav flex-column",children:[(0,o.jsx)("li",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-item",children:(0,o.jsx)(i(),{href:"/",legacyBehavior:!0,passHref:!0,children:(0,o.jsx)("a",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-link",children:"Tasks"})})}),(0,o.jsx)("li",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-item",children:(0,o.jsx)(i(),{href:"./TaskForm",legacyBehavior:!0,passHref:!0,children:(0,o.jsx)("a",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-link",children:"Add Tasks"})})}),(0,o.jsx)("li",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-item",children:(0,o.jsx)(i(),{href:"./Stats",legacyBehavior:!0,passHref:!0,children:(0,o.jsx)("a",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-link",children:"Stats"})})}),(0,o.jsx)("li",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-item",children:(0,o.jsx)(i(),{href:"./About",legacyBehavior:!0,passHref:!0,children:(0,o.jsx)("a",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" nav-link",children:"About"})})})]}),(0,o.jsx)("button",{onClick:()=>{t(!n)},className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" btn fixed btn-dark mt-3",children:n?"Light Mode":"Dark Mode"})]})]}),(0,o.jsx)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" mt-5",children:(0,o.jsx)(m.default,{})})]}),(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" modal text-center",children:[(0,o.jsx)("header",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" row",children:[(0,o.jsx)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" col-2"}),(0,o.jsx)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" col-8 text-center",children:(0,o.jsx)("h2",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:"Confirmation"})}),(0,o.jsx)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" col-2",children:(0,o.jsx)("button",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:(0,o.jsx)("span",{"aria-hidden":"true",onClick:()=>j(!1),className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:"\xd7"})})})]})}),(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" modal-message",children:[(0,o.jsxs)("p",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:['Are you sure you want to remove the task "',f,'"?']})," ",(0,o.jsx)("p",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]]),children:"This action cannot be undone!"})]}),(0,o.jsxs)("div",{className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" modal-footer row",children:[(0,o.jsx)("button",{onClick:()=>j(!1),className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" btn btn-secondary col-4",children:"Cancel"}),(0,o.jsx)("button",{onClick:T,className:s().dynamic([["d74141954a285517",[p?"block":"none"]]])+" btn btn-danger col-4",children:"Remove"})]})]}),(0,o.jsx)(s(),{id:"d74141954a285517",dynamic:[p?"block":"none"],children:'*{-webkit-transition:all.2s ease-in-out;-moz-transition:all.2s ease-in-out;-o-transition:all.2s ease-in-out;transition:all.2s ease-in-out}body{background-color:#fff;color:#000}.dark-mode{background-color:#121212;color:#ffd700}.dark-mode input[type="text"],.dark-mode input[type="datetime-local"],.dark-mode textarea,.dark-mode .task-item,.dark-mode ul{background-color:#121212;color:#ffd700}.dark-mode .task-item:hover{background-color:#333}.dark-mode .card{color:#ffd700}.fixed{position:relative;padding:10px;margin:10px auto;bottom:0}.navbar{position:fixed;top:0;right:0;margin:0;padding:0;overflow:hidden;background-color:#333;width:30%}.navbar ul{list-style-type:none;margin:0 auto;padding:0;overflow:hidden;background-color:#333;width:100%}.navbar ul li{text-align:center}.navbar a,.navbar li label{float:left;display:block;width:100%;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;margin-bottom:0}.navbar a:hover{background-color:#ddd;color:black}.navbar li label:hover{cursor:pointer}.task-item{cursor:pointer}.task-item:hover{background-color:#f9f9f9}input[type="text"],form input[type="datetime-local"],form textarea{-webkit-border-radius:30px;-moz-border-radius:30px;border-radius:30px}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:'.concat(p?"block":"none","}.modal header{background-color:#333;color:#fff;padding:1rem}.modal-message{background-color:#fff;padding:1rem}.modal-footer{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;margin:0 auto;left:0;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:1rem}.modal header button{margin-left:1rem;-webkit-border-radius:25%;-moz-border-radius:25%;border-radius:25%;background-color:transparent}.modal header button:hover{background-color:#f00}.modal header button span{font-weight:bold;font-size:1rem;color:#fff}.dark-mode .modal{background-color:rgba(0,0,0,.5)}.dark-mode .modal header{background-color:##333;color:#ffd700}.dark-mode .modal-message{background-color:#121212;color:#ffd700}.dark-mode .modal-footer{background-color:#121212}")})]})}}},function(e){e.O(0,[822,866,443,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);